<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{{ page.title }} | {{ site.title }}</title>
  <meta name="description" content="{{ page.excerpt | strip_html | truncate: 160 }}" />
  <link rel="stylesheet" href="{{ '/style.css' | relative_url }}">
</head>

<body>
  {% include header.html %}

  <main class="wrapper post">
    <article class="post-article">

      <header class="post-header reveal">
        <h1 class="post-title">{{ page.title }}</h1>
        <p class="post-date">{{ page.date | date: "%d %b %Y" }}</p>
      </header>

      <section class="post-content reveal">
        {{ content }}
      </section>

      <section class="post-related reveal">
        <h3>También te puede interesar</h3>
        <ul class="post-related-list">
          {% assign related = site.posts | where_exp: "p", "p.url != page.url" | limit:3 %}
          {% for post in related %}
            <li>
              <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
              <span>{{ post.date | date: "%d %b %Y" }}</span>
            </li>
          {% endfor %}
        </ul>
      </section>

      <footer class="post-footer reveal">
        <div class="post-cta">
          <h3>¿Quieres mejorar tu sitio o tu estrategia digital?</h3>
          <p>Diseño editorial, arquitectura digital y conversión pensada para marcas de servicios.</p>
          <a class="btn" href="/calendly.html">Agendar consulta</a>
          <a class="btn btn-outline" href="/blog/">Volver al blog</a>
        </div>
      </footer>

    </article>
  </main>

  {% include footer.html %}

  <script>
    document.addEventListener('DOMContentLoaded', function(){
      var reveals = document.querySelectorAll('.reveal');
      if('IntersectionObserver' in window){
        var obs = new IntersectionObserver(function(entries, observer){
          entries.forEach(function(entry){
            if(entry.isIntersecting){
              entry.target.classList.add('is-visible');
              observer.unobserve(entry.target);
            }
          });
        }, {threshold: 0.12});
        reveals.forEach(function(r){ obs.observe(r); });
      } else {
        reveals.forEach(function(r){ r.classList.add('is-visible'); });
      }
    });
  </script>
</body>
</html>
